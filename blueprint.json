{
	"title": "Mariadb",
	"description": "Mariadb Server",
	"configuration": {
		"root_password": "^^random(32)^^",
		"max_allowed_packet": "4M",
		"event_scheduler": 1,
		"sql_mode": "1",
		"local_infile": 1,
		"innodb_buffer_pool_size": 134217728
	},
	"volumes": [
		{
			"destination": "/var/lib/mariadb/",
			"source": "data"
		},
		{
			"destination": "/var/log/",
			"source": "logs"
		}
	],
	"os_packages": {
		"adds": [
			"default-mysql-server"
		]
	},
	"images": [
		{
			"type": "lxd",
			"image": "enginesd_debian_base"
		}
	],
	"containers": [
		{
			"type": "lxd"
		}
	],
	"binding_anchor": {
		"variables": {
			"databasename": "^^identifier^^",
			"username": "^^identifier^^_user",
			"password": "^^random(10)^^",
			"collation": "utf8_general_ci",
			"charset": "utf8",
			"super_user": false,
			"grant:": false
		},
		"scripts": {
			"shell": {
				"bind": [
					"/usr/local/bin/create_db_and_user.sh"
				],
				"unbind": [
					"/usr/local/bin/delete_db_and_user.sh"
				],
				"change": [
					"/usr/local/bin/update_db_and_user.sh"
				]
			}
		}
	}
}
